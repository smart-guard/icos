<mah:MetroWindow x:Class="iCos5CSPGatewayED.View.WinMain"
                 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                 xmlns:mah="http://metro.mahapps.com/winfx/xaml/controls"
                 xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                 xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                 mc:Ignorable="d"
                 x:Name="thisWindows"
                 Height="950" Width="1200"
                 MinHeight="600" MinWidth="800"
                 Icon="../Resources/HDCLabs_H_L.png"
                 ResizeMode="CanResizeWithGrip"
                 GlowBrush="{DynamicResource MahApps.Brushes.Accent}"
                 TitleCharacterCasing="Normal"
                 WindowStartupLocation="CenterScreen"
                 Loaded="MetroWindow_Loaded">

  <!-- Resources -->
  <Window.Resources>
    <ResourceDictionary>
      <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="../Assets/ControlResources.xaml"/>
      </ResourceDictionary.MergedDictionaries>

      <!-- Hamburger -->
      <DataTemplate x:Key="HamburgerMenuDataTemplate" 
                    DataType="{x:Type mah:HamburgerMenuImageItem}">
        <DockPanel Height="48" 
                   LastChildFill="True">
          <Grid x:Name="IconPart"
                Width="{Binding CompactPaneLength, RelativeSource={RelativeSource AncestorType={x:Type mah:HamburgerMenu}}}"
                DockPanel.Dock="Left">
            <Image Margin="12"
                   HorizontalAlignment="Center"
                   VerticalAlignment="Center"
                   Source="{Binding Thumbnail}"/>
          </Grid>
          <TextBlock x:Name="TextPart"
                     VerticalAlignment="Center"
                     FontSize="16"
                     Text="{Binding Label}"/>
        </DockPanel>
        <DataTemplate.Triggers>
          <DataTrigger Binding="{Binding PanePlacement, RelativeSource={RelativeSource AncestorType={x:Type mah:HamburgerMenu}}}" 
                       Value="Right">
            <Setter TargetName="IconPart" Property="DockPanel.Dock" Value="Right"/>
            <Setter TargetName="TextPart" Property="Margin" Value="8 0 0 0"/>
          </DataTrigger>
        </DataTemplate.Triggers>
      </DataTemplate>
      <DataTemplate x:Key="HamburgerOptionsDataTemplate" 
                    DataType="{x:Type mah:HamburgerMenuImageItem}">
        <DockPanel Height="48" 
                   LastChildFill="True">
          <Grid x:Name="IconPart"
                Width="{Binding CompactPaneLength, RelativeSource={RelativeSource AncestorType={x:Type mah:HamburgerMenu}}}"
                DockPanel.Dock="Left"
                Focusable="False">
            <Image Margin="12"
                   HorizontalAlignment="Center"
                   VerticalAlignment="Center"
                   Source="{Binding Thumbnail}"/>
          </Grid>
          <TextBlock x:Name="TextPart"
                     VerticalAlignment="Center"
                     FontSize="16"
                     Text="{Binding Label}"/>
        </DockPanel>
        <DataTemplate.Triggers>
          <DataTrigger Binding="{Binding PanePlacement, RelativeSource={RelativeSource AncestorType={x:Type mah:HamburgerMenu}}}" 
                       Value="Right">
            <Setter TargetName="IconPart" Property="DockPanel.Dock" Value="Right"/>
            <Setter TargetName="TextPart" Property="Margin" Value="8 0 0 0"/>
          </DataTrigger>
        </DataTemplate.Triggers>
      </DataTemplate>
    </ResourceDictionary>
  </Window.Resources>

  <!-- Title Buttons -->
  <mah:MetroWindow.RightWindowCommands>
    <mah:WindowCommands>
      <Button Click="TextEdit_Click"
              ToolTip="텍스트 직접 편집">
        <Image Height="22" Width="22"
               Source="{StaticResource file_earmark_textW}"/>
      </Button>
      <Button Click="LockUnlock_Click"
              ToolTip="설정 잠금/해제">
        <Image x:Name="LockUnlockImage" Height="22" Width="22"
               Source="{StaticResource lock_fillW}"/>
      </Button>
    </mah:WindowCommands>
  </mah:MetroWindow.RightWindowCommands>
  
  <!-- Main -->
  <Border x:Name="MainBorder">
    <mah:HamburgerMenu x:Name="HamburgerMenuControl" 
                       ItemTemplate="{StaticResource HamburgerMenuDataTemplate}"
                       OptionsItemTemplate="{StaticResource HamburgerOptionsDataTemplate}"
                       Style="{StaticResource HamburgerMenuStyle}"
                       ItemInvoked="HamburgerMenuControl_ItemInvoked">
      <!-- Hamburger Header -->
      <mah:HamburgerMenu.HamburgerMenuHeaderTemplate>
        <DataTemplate>
          <TextBlock HorizontalAlignment="Center"
                     VerticalAlignment="Center"
                     FontSize="18"
                     FontWeight="Bold"
                     Foreground="White"
                     Text="Cloud Gateway"/>
        </DataTemplate>
      </mah:HamburgerMenu.HamburgerMenuHeaderTemplate>

      <!-- Hamburger Items -->
      <mah:HamburgerMenu.ItemsSource>
        <mah:HamburgerMenuItemCollection>
          <mah:HamburgerMenuImageItem Thumbnail="{StaticResource cloudsW}" 
                                      Label="클라우드" 
                                      ToolTip="클라우드"
                                      Tag="{Binding CloudView}"/>
          <mah:HamburgerMenuImageItem Thumbnail="{StaticResource gear_fillW}" 
                                      Label="일반" 
                                      ToolTip="일반"
                                      Tag="{Binding CommonView}"
                                      IsVisible="False"/>
          <mah:HamburgerMenuImageItem Thumbnail="{StaticResource repeatW}" 
                                      Label="주기 데이터" 
                                      ToolTip="주기 데이터"
                                      Tag="{Binding ValueView}"
                                      IsVisible="False"/>
          <mah:HamburgerMenuImageItem Thumbnail="{StaticResource lightningW}" 
                                      Label="알람 데이터" 
                                      ToolTip="알람 데이터"
                                      Tag="{Binding AlarmView}"
                                      IsVisible="False"/>
          <mah:HamburgerMenuImageItem Thumbnail="{StaticResource building_fill_gearW}" 
                                      Label="제어 데이터" 
                                      ToolTip="제어 데이터"
                                      Tag="{Binding ControlView}"
                                      IsVisible="False"/>
        </mah:HamburgerMenuItemCollection>
      </mah:HamburgerMenu.ItemsSource>

      <!-- Hamburger Options -->
      <mah:HamburgerMenu.OptionsItemsSource>
        <mah:HamburgerMenuItemCollection>
          <mah:HamburgerMenuImageItem Thumbnail="{StaticResource box2W}" 
                                      Label="패키지 재설치" 
                                      ToolTip="Reinstall"
                                      IsVisible="False"/>
          <mah:HamburgerMenuImageItem Thumbnail="{StaticResource arrow_clockwiseW}" 
                                      Label="설정 초기화" 
                                      ToolTip="Reset"
                                      IsVisible="False"/>
          <mah:HamburgerMenuImageItem Thumbnail="{StaticResource saveW}" 
                                      Label="설정 저장" 
                                      ToolTip="Save"/>
          <mah:HamburgerMenuImageItem Thumbnail="{StaticResource info_circleW}" 
                                      Label="정보"
                                      ToolTip="About"/>
        </mah:HamburgerMenuItemCollection>
      </mah:HamburgerMenu.OptionsItemsSource>

      <!-- Hamburger Content -->
      <mah:HamburgerMenu.ContentTemplate>
        <DataTemplate DataType="{x:Type mah:HamburgerMenuItem}">
          <Grid>
            <Grid.RowDefinitions>
              <RowDefinition Height="48"/>
              <RowDefinition />
            </Grid.RowDefinitions>
            <Border Grid.Row="0"
                    Background="{StaticResource HDCLabsPrimary2}">
              <Grid>
                <TextBlock HorizontalAlignment="Left"
                           VerticalAlignment="Center"
                           FontSize="24"
                           FontWeight="Bold"
                           Margin="10 0 0 0"
                           Text="{Binding Label}"/>
                <StackPanel Orientation="Horizontal"
                            HorizontalAlignment="Right">
                  <Image Height="28" 
                         VerticalAlignment="Center"
                         Margin="20 0 10 0"
                         Source="../Resources/Company_Logo.png"/>
                </StackPanel>
              </Grid>
            </Border>
            <mah:TransitioningContentControl Grid.Row="1"
                                             Content="{Binding}"
                                             RestartTransitionOnContentChange="True"
                                             Transition="Right">
              <mah:TransitioningContentControl.Resources>
                <DataTemplate DataType="{x:Type mah:HamburgerMenuItem}">
                  <ContentControl Content="{Binding Tag, Mode=OneWay}"
                                  Focusable="True"
                                  IsTabStop="False"/>
                </DataTemplate>
              </mah:TransitioningContentControl.Resources>
            </mah:TransitioningContentControl>
          </Grid>
        </DataTemplate>
      </mah:HamburgerMenu.ContentTemplate>
    </mah:HamburgerMenu>
  </Border>
</mah:MetroWindow>
